(function(t){function e(e){for(var i,r,l=e[0],o=e[1],c=e[2],p=0,u=[];p<l.length;p++)r=l[p],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&u.push(s[r][0]),s[r]=0;for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i]);d&&d(e);while(u.length)u.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],i=!0,l=1;l<a.length;l++){var o=a[l];0!==s[o]&&(i=!1)}i&&(n.splice(e--,1),t=r(r.s=a[0]))}return t}var i={},s={app:0},n=[];function r(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=i,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(a,i,function(e){return t[e]}.bind(null,i));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],o=l.push.bind(l);l.push=e,l=l.slice();for(var c=0;c<l.length;c++)e(l[c]);var d=o;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"13d7":function(t,e,a){"use strict";a("b9dc")},3282:function(t,e,a){"use strict";a("50ad")},"3cd6":function(t,e,a){},"46a4":function(t,e,a){},"50ad":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var i=a("2b0e"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("app-header"),a("app-content"),a("app-footer")],1)},n=[],r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"Header"}},[t._m(0),a("div",{attrs:{id:"word"}},[a("h1",[t._v(t._s(t.msg))])])])},l=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"top-left-edition"},[a("span",{staticStyle:{color:"#21b3b9","font-weight":"bold"}},[a("i",{staticClass:"el-icon-phone-outline",staticStyle:{"font-size":"23px"}}),t._v("免费咨询：010-123456789 ")]),a("span",[a("i",{staticClass:"el-icon-time",staticStyle:{"font-size":"23px"}}),t._v("工作时间：9:00-18:00 ")])])}],o={name:"Header",data:function(){return{msg:"医药处方信息提取系统",activeIndex:"1"}},methods:{handleSelect:function(t,e){console.log(t,e)}}},c=o,d=(a("95d0"),a("2877")),p=Object(d["a"])(c,r,l,!1,null,"55346df2",null),u=p.exports,f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"Footer"}},[a("p",[t._v(t._s(t.msg))])])},h=[],v={name:"Footer",data:function(){return{msg:"Copyright 2021"}}},m=v,g=(a("13d7"),Object(d["a"])(m,f,h,!1,null,"441866af",null)),b=g.exports,_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"Content"}},[a("el-dialog",{attrs:{id:"hello",title:"纸质医药处方提取系统使用须知",visible:t.centerDialogVisible,width:"65%","before-close":t.handleClose},on:{"update:visible":function(e){t.centerDialogVisible=e}}},[a("el-steps",{attrs:{active:5,"finish-status":"process "}},[a("el-step",{staticStyle:{width:"280px","padding-left":"50px"},attrs:{title:"步骤1"}},[a("template",{slot:"description"},[a("p",{staticStyle:{"font-size":"16px"}},[t._v("下载测试医药处方文件")]),a("br"),a("br")])],2),a("el-step",{staticStyle:{width:"260px","margin-left":"-5px"},attrs:{title:"步骤2"}},[a("template",{slot:"description"},[a("p",[t._v("上传处方图像至服务器")]),a("p",[t._v("使用训练的模型检测文字区域")]),a("p",[t._v("并返回文字标识区域")])])],2),a("el-step",{staticStyle:{width:"260px","margin-left":"-5px"},attrs:{title:"步骤3"}},[a("template",{slot:"description"},[a("div",[a("p",[t._v("根据文字标识区域")]),a("p",[t._v("进行文字识别")]),a("br")])])],2)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.welcome}},[t._v("下载测试医药处方图像")])],1)],1),a("el-dialog",{attrs:{title:"AI预测中",visible:t.dialogTableVisible,"show-close":!1,"close-on-press-escape":!1,"append-to-body":!0,"close-on-click-modal":!1,center:!0},on:{"update:visible":function(e){t.dialogTableVisible=e}}},[a("el-progress",{attrs:{percentage:t.percentage}}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t._v("请耐心等待约20秒钟")])],1),a("div",{attrs:{id:"aside"}},[a("el-card",{staticClass:"box-card",staticStyle:{width:"250px",height:"350px"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("病人信息")])]),t._l(t.patient,(function(e,i){return a("div",{key:i,staticClass:"text item"},[a("h3",{staticStyle:{"font-weight":"normal"}},[t._v(t._s(i)+":"+t._s(e))])])}))],2),a("el-card",{staticClass:"box-card",staticStyle:{width:"250px",height:"500px","margin-top":"50px"},attrs:{"body-style":"padding: 15px 5px 15px 10px"}},[a("div",{staticClass:"clearfix",staticStyle:{"text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"steps",staticStyle:{"letter-spacing":"7px"}},[t._v("诊断测试步骤")])]),a("div",{staticClass:"step_1",staticStyle:{height:"600px"}},[a("el-steps",{attrs:{direction:"vertical",active:t.active,"finish-status":"success"}},[a("el-step",{staticStyle:{height:"120px"},attrs:{title:"步骤 1"}},[a("template",{staticStyle:{"font-size":"10px !important"},slot:"description"},[t._v(" 下载测试处方文件 "),a("el-button",{staticClass:"download_bt",attrs:{type:"primary",icon:"el-icon-download"},on:{click:t.downTemplate}},[t._v("下载 ")])],1)],2),a("el-step",{staticStyle:{height:"150px"},attrs:{title:"步骤 2"}},[a("template",{slot:"description"},[t._v(" 上传医药处方图像至服务器，使用训练的模型检测文字区域并返回文字标记框 "),a("el-button",{staticClass:"download_bt",attrs:{type:"primary",icon:"el-icon-upload"}},[t._v("上传")]),a("input",{staticClass:"file",attrs:{name:"file",type:"file"},on:{change:t.update}})],1)],2),a("el-step",{staticStyle:{height:"200px"},attrs:{title:"获得图像及特征"}},[a("template",{slot:"description"})],2)],1)],1)])],1),a("div",{attrs:{id:"CT"}},[a("div",{attrs:{id:"CT_image"}},[a("el-card",{staticClass:"box-card",staticStyle:{"border-radius":"8px",width:"800px",height:"360px","margin-bottom":"-30px"},attrs:{id:"CT_image_1"}},[a("div",{staticClass:"demo-image__preview1"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{"element-loading-text":"上传图片中","element-loading-spinner":"el-icon-loading"}},[a("el-image",{staticClass:"image_1",staticStyle:{"border-radius":"3px 3px 0 0"},attrs:{src:t.url_1,"preview-src-list":t.srcList}},[a("div",{attrs:{slot:"error"},slot:"error"},[a("div",{staticClass:"error",attrs:{slot:"placeholder"},slot:"placeholder"},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.showbutton,expression:"showbutton"}],staticClass:"download_bt",attrs:{type:"primary",icon:"el-icon-upload"},on:{click:t.true_upload}},[t._v(" 上传图像 "),a("input",{ref:"upload",staticStyle:{display:"none"},attrs:{name:"file",type:"file"},on:{change:t.update}})])],1)])])],1),a("div",{staticClass:"img_info_1",staticStyle:{"border-radius":"0 0 5px 5px"}},[a("span",{staticStyle:{color:"white","letter-spacing":"6px"}},[t._v("原始图像")])])]),a("div",{staticClass:"demo-image__preview2"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{"element-loading-text":"处理中,请耐心等待","element-loading-spinner":"el-icon-loading"}},[a("el-image",{staticClass:"image_1",staticStyle:{"border-radius":"3px 3px 0 0"},attrs:{src:t.url_2,"preview-src-list":t.srcList1}},[a("div",{attrs:{slot:"error"},slot:"error"},[a("div",{staticClass:"error",attrs:{slot:"placeholder"},slot:"placeholder"},[t._v(t._s(t.wait_return))])])])],1),a("div",{staticClass:"img_info_1",staticStyle:{"border-radius":"0 0 5px 5px"}},[a("span",{staticStyle:{color:"white","letter-spacing":"4px"}},[t._v("检测结果")])])])])],1),a("div",{attrs:{id:"info_patient"}},[a("el-card",{staticStyle:{"border-radius":"8px"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("检测目标")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:!t.showbutton,expression:"!showbutton"}],staticClass:"download_bt",staticStyle:{"margin-left":"35px"},attrs:{type:"primary",icon:"el-icon-upload"},on:{click:t.true_upload2}},[t._v(" 重新选择图像 "),a("input",{ref:"upload2",staticStyle:{display:"none"},attrs:{name:"file",type:"file"},on:{change:t.update}})])],1),a("el-tabs",{model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"检测到的目标",name:"first"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"750px","text-align":"center"},attrs:{data:t.feature_list,height:"390",border:"","element-loading-text":"数据正在处理中，请耐心等待","element-loading-spinner":"el-icon-loading",lazy:""}},[a("div",{attrs:{src:t.url_3,className:"{styles.textarea}"}},[t._v("{textarea}")])])],1)],1)],1)],1)])],1)},w=[],y=(a("2b3d"),a("d3b7"),a("3ca3"),a("ddb0"),a("b0c0"),a("bc3a")),x=a.n(y),C={name:"Content",data:function(){return{server_url:"http://127.0.0.1:5003",activeName:"first",active:0,centerDialogVisible:!0,url_1:"",url_2:"",url_3:"",textarea:"",srcList:[],srcList1:[],feature_list:[],feature_list_1:[],feat_list:[],url:"",visible:!1,wait_return:"等待上传",wait_upload:"等待上传",loading:!1,table:!1,isNav:!1,showbutton:!0,percentage:0,fullscreenLoading:!1,opacitys:{opacity:0},patient:{ID:"20190001","姓名":"李冰冰","性别":"女","年龄":"22","电话":"13120392966","诊断结果":"急性阑尾炎"},dialogTableVisible:!1}},created:function(){document.title="纸质医药处方信息提取系统"},methods:{true_upload:function(){this.$refs.upload.click()},true_upload2:function(){this.$refs.upload2.click()},handleClose:function(t){this.$confirm("确认关闭？").then((function(e){t()})).catch((function(t){}))},next:function(){this.active++},getObjectURL:function(t){var e=null;return void 0!=window.createObjcectURL?e=window.createOjcectURL(t):void 0!=window.URL?e=window.URL.createObjectURL(t):void 0!=window.webkitURL&&(e=window.webkitURL.createObjectURL(t)),e},update:function(t){var e=this;this.percentage=0,this.dialogTableVisible=!0,this.url_1="",this.url_2="",url_3="",this.srcList=[],this.srcList1=[],this.wait_return="",this.wait_upload="",this.textarea="",this.feature_list=[],this.feat_list=[],this.fullscreenLoading=!0,this.loading=!0,this.showbutton=!1;var a=t.target.files[0];this.url_1=this.$options.methods.getObjectURL(a);var i=new FormData;i.append("file",a,a.name);var s=setInterval((function(){e.myFunc()}),30),n={headers:{"Content-Type":"multipart/form-data"}};x.a.post(this.server_url+"/upload",i,n).then((function(t){e.percentage=100,clearInterval(s),e.url_1=t.data.image_url,e.srcList.push(e.url_1),e.url_2=t.data.draw_url,e.srcList1.push(e.url_2),e.fullscreenLoading=!1,e.loading=!1,e.url_3=t.data.txt_url,e.textarea.push(e.url_3),e.dialogTableVisible=!1,e.percentage=0,e.notice1()}))},myFunc:function(){this.percentage+33<99?this.percentage=this.percentage+33:this.percentage=99},downloads:function(t,e){if(t){var a=window.URL.createObjectURL(new Blob([t])),i=document.createElement("a");i.style.display="none",i.href=a,i.setAttribute("download","医药处方图文件.zip"),document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(a)}},welcome:function(){var t=this;x()({method:"get",url:"https://cso1-1254043908.cos.ap-beijing.myqcloud.com/ct/testfile.7z",responseType:"blob"}).then((function(e){t.downloads(e.data,e.headers.filename),200===e.status?(t.$message({message:"下载成功",type:"success"}),t.centerDialogVisible=!1,t.next()):t.$message({showClose:!0,message:"下载失败，请重试",type:"error"})}))},drawChart:function(){},notice1:function(){this.$notify({title:"预测成功",message:"点击图片可以查看大图",duration:0,type:"success"})}},mounted:function(){this.drawChart()}},S=C,L=(a("b318"),a("3282"),Object(d["a"])(S,_,w,!1,null,"0bf6b12c",null)),O=L.exports,j={name:"纸质医药处方提取系统",data:function(){return{}},components:{"app-header":u,"app-footer":b,"app-content":O},methods:{}},k=j,R=Object(d["a"])(k,s,n,!1,null,null,null),T=R.exports,U=a("8c4f"),$=a("5c96"),N=a.n($);a("0fae"),a("7d05"),a("3cd6");i["default"].use(N.a),i["default"].config.productionTip=!1,i["default"].use(U["a"]),i["default"].prototype.$http=x.a;var V=new U["a"]({routes:[{path:"/App",component:T,meta:{title:"纸质医药处方提取系统"}}],mode:"history"});i["default"].component("App",T),new i["default"]({el:"#app",router:V,render:function(t){return t(T)}})},"7d05":function(t,e,a){},"95d0":function(t,e,a){"use strict";a("46a4")},b318:function(t,e,a){"use strict";a("d1f0")},b9dc:function(t,e,a){},d1f0:function(t,e,a){}});
//# sourceMappingURL=app.f594ed16.js.map